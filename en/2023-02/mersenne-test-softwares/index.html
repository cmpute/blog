<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Introduction to softwares for GIMPS tasks with CPU or GPU."><title>Brief Tutorial for Mersenne Prime Test Softwares | JacobZ</title><link rel=canonical href=https://zyxin.xyz/blog/en/2023-02/mersenne-test-softwares/><link rel=stylesheet href=/blog/scss/style.min.ddd64a7f9075715264e9e9319381b9fbc3c8dfaa6c5e662ae63f5188bd252fbc.css><meta property="og:title" content="Brief Tutorial for Mersenne Prime Test Softwares"><meta property="og:description" content="Introduction to softwares for GIMPS tasks with CPU or GPU."><meta property="og:url" content="https://zyxin.xyz/blog/en/2023-02/mersenne-test-softwares/"><meta property="og:site_name" content="JacobZ"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Windows"><meta property="article:tag" content="Volunteer Computing"><meta property="article:published_time" content="2023-02-22T00:00:00+00:00"><meta property="article:modified_time" content="2023-02-22T00:00:00+00:00"><meta name=twitter:title content="Brief Tutorial for Mersenne Prime Test Softwares"><meta name=twitter:description content="Introduction to softwares for GIMPS tasks with CPU or GPU."><link rel="shortcut icon" href=/img/icon16.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/blog/en><img src=/blog/img/avatar_hua7c33bdc6ff69af7d15e47ee16119217_164168_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a>
<span class=emoji>üêà</span></figure><div class=site-meta><h1 class=site-name><a href=/blog/en>JacobZ</a></h1><h2 class=site-description>Blog of him</h2></div></header><ol class=social-menu><li><a href=/blog/en/mailto:cmpute@foxmail.com target=_blank title=Mail rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-mail" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="3" y="5" width="18" height="14" rx="2"/><polyline points="3 7 12 13 21 7"/></svg></a></li><li><a href=/blog/en/index.xml target=_blank title="RSS Subscribe" rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li><li><a href=https://github.com/cmpute/ target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.foreverblog.cn/go.html target=_blank title="Wormhole - Go to an unknown blog site" rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-atom-2" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="3"/><line x1="12" y1="21" x2="12" y2="21.01"/><line x1="3" y1="9" x2="3" y2="9.01"/><line x1="21" y1="9" x2="21" y2="9.01"/><path d="M8 20.1A9 9 0 013 13"/><path d="M16 20.1a9 9 0 005-7.1"/><path d="M6.2 5a9 9 0 0111.4.0"/></svg></a></li><li><a href=https://www.travellings.cn/go.html target=_blank title="Traveling - Go to a random blog site" rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-train" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 13c0-3.87-3.37-7-10-7H3"/><path d="M3 15h16a2 2 0 002-2"/><path d="M3 6v5h17.5"/><line x1="3" y1="10" x2="3" y2="14"/><line x1="8" y1="11" x2="8" y2="6"/><line x1="13" y1="11" x2="13" y2="6.5"/><line x1="3" y1="19" x2="21" y2="19"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/blog/en/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/blog/en/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-at" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="4"/><path d="M16 12v1.5a2.5 2.5.0 005 0V12a9 9 0 10-5.5 8.28"/></svg><span>About</span></a></li><li><a href=/blog/en/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/blog/en/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><div class=menu-bottom-section><li id=i18n-switch><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><select name=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://zyxin.xyz/blog/en/ selected>English</option><option value=https://zyxin.xyz/blog/>‰∏≠Êñá</option></select></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><aside class="sidebar sticky right-sidebar"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#mprime-for-all-tasks-on-cpu><code>mprime</code> for all tasks on CPU</a></li><li><a href=#mfaktc-for-tf-tasks-on-gpu><code>mfaktc</code> for TF tasks on GPU</a></li><li><a href=#gpuowl-for-prp-tasks-on-gpu><code>GpuOwl</code> for PRP tasks on GPU</a></li><li><a href=#gpuowl--mprime-for-pm1-tasks-on-gpu><code>GpuOwl</code> + <code>mprime</code> for PM1 tasks on GPU</a></li><li><a href=#comparison-of-credit-efficiency-between-task-types>Comparison of credit efficiency between task types</a></li></ol></nav></div></section><section class="widget navbar"><a class=widget-link href=#comments-container><div class=widget-icon title=Comments><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-messages" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M21 14l-3-3h-7a1 1 0 01-1-1V4a1 1 0 011-1h9a1 1 0 011 1v10"/><path d="M14 15v2a1 1 0 01-1 1H6l-3 3V11a1 1 0 011-1h2"/></svg></div><h2 class="widget-title section-title">Comments</h2></a><div class=widget-link onclick='window.scrollTo({top:0,behavior:"smooth"})'><div class=widget-icon title="Back to Top"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrows-up" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="17" y1="3" x2="17" y2="21"/><path d="M4 6l3-3 3 3"/><path d="M20 6l-3-3-3 3"/><line x1="7" y1="3" x2="7" y2="21"/></svg></div><h2 class="widget-title section-title">Back to Top</h2></div><div class=widget-link id=toggle-sidebar-close><div class=widget-icon title=Collapse><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-bar-right" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="20" y1="12" x2="10" y2="12"/><line x1="20" y1="12" x2="16" y2="16"/><line x1="20" y1="12" x2="16" y2="8"/><line x1="4" y1="4" x2="4" y2="20"/></svg></div><h2 class="widget-title section-title">Collapse</h2></div><div class=widget-link id=toggle-sidebar-open><div class=widget-icon title=Expand><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-bar-left" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="12" x2="14" y2="12"/><line x1="4" y1="12" x2="8" y2="16"/><line x1="4" y1="12" x2="8" y2="8"/><line x1="20" y1="4" x2="20" y2="20"/></svg></div><h2 class="widget-title section-title">Expand</h2></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/blog/en/categories/misc/>Misc</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/blog/en/2023-02/mersenne-test-softwares/>Brief Tutorial for Mersenne Prime Test Softwares</a></h2><h3 class=article-subtitle>Introduction to softwares for GIMPS tasks with CPU or GPU.</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>2023-02-22</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>9 minute read</time></div></footer><footer class=article-translations><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://zyxin.xyz/blog/2023-02/mersenne-test-softwares/ class=link>‰∏≠Êñá</a></div></footer></div></header><section class=article-content><details class="article-toc is-active"><summary class=article-toc-title><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg><span>Table of contents</span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-right" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="9 6 15 12 9 18"/></svg></summary><div class=article-toc-body><nav id=TableOfContents-inline><ol><li><a href=#mprime-for-all-tasks-on-cpu><code>mprime</code> for all tasks on CPU</a></li><li><a href=#mfaktc-for-tf-tasks-on-gpu><code>mfaktc</code> for TF tasks on GPU</a></li><li><a href=#gpuowl-for-prp-tasks-on-gpu><code>GpuOwl</code> for PRP tasks on GPU</a></li><li><a href=#gpuowl--mprime-for-pm1-tasks-on-gpu><code>GpuOwl</code> + <code>mprime</code> for PM1 tasks on GPU</a></li><li><a href=#comparison-of-credit-efficiency-between-task-types>Comparison of credit efficiency between task types</a></li></ol></nav></div></details><p>After playing with linux OSes recently, I also tried to figure out other ways to contribute to GIMPS. In this blog, I will summarize the softwares recommended for the GIMPS project and their usage. GIMPS relies on the PrimeNet for tasks distribution and collection. Currently there are three kinds of tasks for searching new Mersenne primes will be distributed: <ruby>Trial<rt>T</rt>&nbsp;Factoring<rt>F</rt></ruby>„ÄÅ<ruby>P-1<rt>PM1</rt></ruby> factorization and <ruby>Probable&nbsp;Prime<rt>PRP</rt></ruby> test„ÄÇTherefore, I will mainly cover the usage and recommended strategy in this blog.</p><p>First of all, you can directly execute these programs if you don&rsquo;t want to get credits. But I recommend creating an account on the GIMPS website so that you can use PrimeNet to automatically get new tasks and submit them. This is also the most effective way to help searching for the next Mersenne prime.</p><p>There are generally two ways to execute the programs. You can input the arguments (such as the exponent) through the command line, or you can put the tasks in a <code>worktodo.txt</code> file. The format of all these <code>worktodo.txt</code> files follows the official definition by PrimeNet. If you get the tasks through <a class=link href=https://www.mersenne.org/manual_assignment/ target=_blank rel=noopener>manual assignment</a>, then what you get will be a bunch of text and each line defines a task. The program will recognize them after you put those text into the <code>worktodo.txt</code> file.</p><h2 id=mprime-for-all-tasks-on-cpu><code>mprime</code> for all tasks on CPU</h2><p><code>mprime</code> is the official program for primality test by the GIMPS project. It&rsquo;s also called <code>prime95</code> (or P95) on Windows, and it&rsquo;s widely used for stress test. The program supports all tasks in PrimeNet but it can only compute on CPU. Nevertheless, the program is extensively optimized for various CPU models so it is the go-to choice for all the tasks on CPU.</p><p>The official releases of <code>mprime</code> can be obtained on the <a class=link href=https://www.mersenne.org/download/ target=_blank rel=noopener>GIMPS website</a>, while the latest beta version can be downloaded from the mirror site<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>On Linux, you may need to install the GMP library before running the <code>mprime</code> program. (This can be done with <code>sudo apt install libgmp10</code>); while on Windows, all required libraries will be bundled with the program, so no additional installation is required. When you run the program for the first time, you will be prompted for your username (not the nickname) on GIMPS. Afterwards, you can set task preferences, the number of hours per day the task will run, and the amount of CPU and RAM available to the program. <code>mprime</code> consists of multiple workers that can perform different types of tasks. Changing preferences per worker allows you to have more fine-grained control over computing resources.</p><blockquote><p>Note that on Linux, after the first time when you configure the preferences, the program won&rsquo;t output any information in the terminal. If you want the menu to come back, you need to start the program with <code>mprime -m</code>.</p></blockquote><h2 id=mfaktc-for-tf-tasks-on-gpu><code>mfaktc</code> for TF tasks on GPU</h2><p>GPU is a better fit for parallel computation than CPU, and TF is a task that can be greatly parallelized. Therefore TF is the task where GPU shows the best advantage over CPU. In the other two tasks, the benefit of using GPU only comes from faster integer multiplication with FFT algorithms. The other functionalities of GPU that helps parallelization are not being used.</p><p>The common programs used by everyone and recommended by GIMPs are <code>mfaktc</code> (based on CUDA) and <code>mfakto</code> (based on OpenCL), both of which can be downloaded from the mirror site<sup id=fnref1:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>. It&rsquo;s worth noting that the compiled version downloaded from the mirror site incorporates some additional optimizations (like adjusting some parameters for newer GPUs). So, if you want to compile the programs yourself, you can also download the modifed source code from the mirror site. Beside, if you are going to download the compiled version, you might need to install the CUDA runtime with the version matched with the exectable.</p><p>These two programs are easy to use. Take <code>mfaktc</code> for example: download the tasks from the GIMPS website and put the task definitions into a <code>worktodo.txt</code>. Then just execute <code>mfaktc</code> under the same directory and you are good to go. At the beginning of each run, <code>mfaktc</code> will perform a quick check and notify you when there are problems with your GPU driver of hardware. This is actually a good way to check whether your GPU is working normally.</p><blockquote><p><code>mfaktc</code> is also utilized by some prime-finding projects on BOINC. SRBase is an example which distributes tasks to users with this program. It will also upload the factorization results back to PrimeNet. Therefore if you participate in those BOINC probjects, you are also contributing to BOINC. However the credits will be counted on the BOINC project, not on your account.</p></blockquote><h2 id=gpuowl-for-prp-tasks-on-gpu><code>GpuOwl</code> for PRP tasks on GPU</h2><p><code>GpuOwl</code> is a open-sourced software developed by Mihal Preda<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>, it&rsquo;s the only one among the GPU programs for GIMPS that are still being actively developed. Therefore, the tutorials here might be not up-to-date. The latest version of <code>GpuOwl</code> is v7.2 at the time I wrote this blog. It&rsquo;s exectuables for Windows can be downloaded from the mirror site<sup id=fnref2:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>. But for Linux, it&rsquo;s very likely you are going to compile it yourself because of there are no compiled versions on the website.</p><p><code>GpuOwl</code> supports both PRP and PM1 tasks, but it&rsquo;s designed for PRP with GPUs. Since only <code>GpuOwl</code> can provide the certificate file for PRP tasks, it&rsquo;s not recommended to use other similar softwares now (such as <code>CudaLucas</code>). Using the <code>primenet.py</code><sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> script provided by <code>GpuOwl</code> can help automatically obtain and submit tasks.</p><p><code>GpuOwl</code> also supports multi-GPU computation, the way to do that is to launch multiple <code>GpuOwl</code> processes and specify the target GPU with the <code>-device</code> argument for each process. Meanwhile, using <code>-pool</code> argument to specify the shared workspace for all GPUs. Put the task definitions into the <code>worktodo.txt</code> in this workspace, then every <code>GpuOwl</code> process will fetch the task from this file.</p><h2 id=gpuowl--mprime-for-pm1-tasks-on-gpu><code>GpuOwl</code> + <code>mprime</code> for PM1 tasks on GPU</h2><p>The softwares with support for PM1 tasks include <code>GpuOwl</code> and <code>CUDAPm1</code>. The code for the latter one hasn&rsquo;t be updated for almost a decade and it only supports NVidia GPUs. Therefore <code>GpuOwl</code> is still the best option for PM1. After a recent update, <code>GpuOwl</code> now supports a clever way to compute PM1 tasks, that is to use <code>GpuOwl</code> for the calculation at stage 1, then feed the result into <code>mprime</code> which will then does the calculation at stage 2. By this way, we can benefit from both the fast computation of GPU, and a large amount of memory for stage 2 with <code>mprime</code>. (Generally speaking, the VRAM of GPUs is smaller than the RAM of the host machine. The more memory available for stage 2 the better.) Right now <code>GpuOwl</code> will not directly output the PM1 result because it doesn&rsquo;t perform the final GCD step in the stage 1. Therefore, it has to be bundled with <code>mprime</code> for PM1 tasks.</p><p>The way to do this is to specify the directory with argument <code>-mprimeDir</code>, where the results from stage 1 will be stored with a format readable by <code>mprime</code>. There will be multiple files generate under this directory, each exponent will have a file and there will be another <code>worktodo.add</code> file. Copy these files to the directory of <code>mprime</code>, then <code>mprime</code> will recognize them and add the tasks to its own <code>worktodo.txt</code>.</p><blockquote><p>It&rsquo;s recommended to limit <code>mprime</code> from receiving new tasks and only take the tasks generated by <code>GpuOwl</code>. According to <a class=link href="https://www.mersenneforum.org/showpost.php?p=619325&postcount=2873" target=_blank rel=noopener>the tutorial by the author</a>, add following config to the <code>prime.txt</code> under the directory of <code>mprime</code>:</p><div class=codeblock><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=na>SequentialWorkToDo</span><span class=o>=</span><span class=s>1</span>
</span></span><span class=line><span class=cl><span class=na>MaxExponents</span><span class=o>=</span><span class=s>1000</span>
</span></span><span class=line><span class=cl><span class=na>UnreserveExponents</span><span class=o>=</span><span class=s>1000</span>
</span></span><span class=line><span class=cl><span class=na>NoMoreWork</span><span class=o>=</span><span class=s>1</span></span></span></code></pre></td></tr></table></div></div><div class=code-lang>INI</div></div></blockquote><h2 id=comparison-of-credit-efficiency-between-task-types>Comparison of credit efficiency between task types</h2><p>If you want to obtain higher credits on GIMPS, then it&rsquo;s necessary to know that the efficiencies of the three types of tasks are different. Although GIMPS credits are assigned based on the amount of computation, it&rsquo;s just a estimation because of different hardware models and software optimization. And it&rsquo;s not proportional to the time you actually spent. The unit used by GIMPS to measure the computation is <ruby>Ghz-Days<rt>GHD</rt></ruby>. For example, 1GHD is roughly equivalent to the amount of computation done by a 1Ghz CPU for 24 hours.</p><p>According to my experiences, TF is the most efficient way to obtain GHD credits, then PM1, and lastly PRP. Although I haven‚Äôt done any CPU experiments, my experience on GPU is that with a graphics card similar to 1080Ti, the credit efficiency of TF can reach 700GHD per day, PM1‚Äôs is 200 to 300, and the one of PRP is only 100~200GHD per day. So I choose the task type based on these considerations: <strong>run TF if you want most credits, run PM1 if you want to take the advantage of your beefy RAM or to find the biggest factor, and run PRP if you want to be the next person to discover a Mersenne prime</strong>. If you want to figure out the efficiency yourself, you can use <a class=link href=https://www.mersenne.ca/credit.php target=_blank rel=noopener>the credit calculator</a>.</p><p>Besides, based on my experience (on GPU), the efficiencies of different task types are:</p><ul><li>TF: Lower the bits and lower the exponent, higher the efficiency. (Therefore the wavefront TF tasks on PrimeNet are actually the most efficient)<blockquote><p>According to the estimation of <code>mfaktc</code>, running on exponents around 200M with 74bits produces about 750GHD per day (using 1080Ti), but it only produces about 700GHD per day when running on 900M exponents.</p></blockquote></li><li>PM1: Both the credits and computation time mainly depend on B2. Therefore it&rsquo;s better to set a lower value for B1. However, the influence of exponent size and B2 on the efficiency is not clear yet.<blockquote><p>Here I provide some reference data points (using 4090 GPU for the first stage and 13700K CPU for the second stage and)</p><div class=table-wrapper><table><thead><tr><th>Exponent</th><th>B1</th><th>B2</th><th>Stage 1 time</th><th>Stage 2 time</th><th>Final Credits</th><th>Credit Efficiency</th></tr></thead><tbody><tr><td>119M</td><td>2.4M</td><td>260M</td><td>2hr</td><td>2.5hr</td><td>126GHD</td><td>28GHD/h</td></tr><tr><td>119M</td><td>3.2M</td><td>260M</td><td>2.5hr</td><td>2.5hr</td><td>132GHD</td><td>26GHD/h</td></tr><tr><td>332M</td><td>3.2M</td><td>210M</td><td>7hr</td><td>19.5hr</td><td>362GHD</td><td>13.6GHD/h</td></tr><tr><td>332M</td><td>3.2M</td><td>180M</td><td>7hr</td><td>18.5hr</td><td>323GHD</td><td>12.7GHD/h</td></tr></tbody></table></div></blockquote></li><li>PRPÔºöIt seems that higher the exponent higher the efficiency.<blockquote><p>On RTX4080 it takes about 53 hours to complete the exponent around 113M, with final credits of ~500GHD, the efficiency is 9.4GHD per hour; Meanwhile, it takes about 500 hours to complete the exponent around 323M, with final credits of ~5000GHD, the efficiency is 10GHD per hour.</p></blockquote></li></ul><hr><p>In this blog, I covered the basic usage of softwares above. For advanced usage, You can refer to the official documentation (although most of them are not very user-friendly), or <a class=link href="https://mersenneforum.org/showthread.php?t=24607" target=_blank rel=noopener>this summary post on the Mersenne forum</a>.</p><p>The strategy I currently use is:</p><ul><li>For TF: Run on GPU only. Use the work distribution table to find the available TF task with the smallest exponent and bits, then reserve them throught the manual assignment page.</li><li>For PM1: On CPU, use <code>mprime</code> to obtain the first time PM1 tasks with the smallest exponents automatically. On GPU, select the PM1 tasks with the smallest exponents or those with exponents over 100M digits and small B1<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>.</li><li>For PRP: Run on GPU only. Use <code>GpuOwl</code> to automatically obtain the PRP tasks with smallest exponents or exponents over 100M digits.</li></ul><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>The website <a class=link href=https://www.mersenne.ca/ target=_blank rel=noopener><code>mersenne.ca</code></a> built by James Heinrich provides various tools, data and rankings for GIMPS. It also provides <a class=link href=https://download.mersenne.ca/ target=_blank rel=noopener>the builds for almost all unofficial softwares</a>.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a>&#160;<a href=#fnref1:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a>&#160;<a href=#fnref2:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>The Github link for GpuOwl is <a class=link href=https://github.com/preda/gpuowl target=_blank rel=noopener>github.com/preda/gpuowl</a>.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>You can specify the type of tasks to obtain with <code>primenet.py</code>, the definition of each type name can be <a class=link href=https://www.mersenne.org/worktypes/ target=_blank rel=noopener>found at the GIMPS website</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p>You can find the exponents with over 100M decimal digits and no PM1 task done with <a class=link href="https://www.mersenne.org/report_factoring_effort/?exp_lo=332192809&exp_hi=334000000&bits_lo=81&bits_hi=81&txt=1&prp=-1&pm1=-1" target=_blank rel=noopener>this link</a>.&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></section><footer class=article-footer><section class=article-tags><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg><span><a href=/blog/en/tags/linux/>#Linux</a><a href=/blog/en/tags/windows/>#Windows</a><a href=/blog/en/tags/volunteer-computing/>#Volunteer Computing</a></span></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><link rel=stylesheet href=/blog/scss/partials/comments/giscus.min.css><div class=giscus-container id=comments-container><script src=https://giscus.app/client.js data-repo=cmpute/blog data-repo-id=R_kgDOIxqBHQ data-category=Announcements data-category-id=DIC_kwDOIxqBHc4CTl1Y data-mapping=title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en crossorigin=anonymous async></script>
<script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark")}})()</script></div><div class=bottom-navbar-container><div class=bottom-navbar><a class=bottom-navbar-icon href=#comments-container><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-messages" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M21 14l-3-3h-7a1 1 0 01-1-1V4a1 1 0 011-1h9a1 1 0 011 1v10"/><path d="M14 15v2a1 1 0 01-1 1H6l-3 3V11a1 1 0 011-1h2"/></svg></a><div class=bottom-navbar-icon onclick='window.scrollTo({top:0,behavior:"smooth"})'><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrows-up" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="17" y1="3" x2="17" y2="21"/><path d="M4 6l3-3 3 3"/><path d="M20 6l-3-3-3 3"/><line x1="7" y1="3" x2="7" y2="21"/></svg></div></div></div><footer class=site-footer><section class=copyright>&copy;
2017 -
2023 JacobZ</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/cmpute/hugo-theme-stacked target=_blank rel=noopener data-version=3.16.0>Stacked</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a>, modified by Jacob</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/blog/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>